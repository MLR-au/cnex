<!-- the cog which hides / shows the controls panel --><div class="above" style="top: {{cls.top}}px; left: {{cls.left}}px; width: {{cls.width}}px; height: 50px; z-index: 2000000"><div class="row"><div class="col-sm-1 col-sm-offset-11 col-md-1 col-md-offset-11 col-lg-1 col-lg-offset-11"><span class="glyphicon glyphicon-cog" ng-click="visible = !visible"></span></div></div></div><!-- the white, semi opaque div behind the controls panel --><div class="below" style="top: {{cls.top}}px; left: {{cls.left}}px; width: {{cls.width}}px; height: {{cls.height}}px" ng-hide="visible"></div><!-- the controls panel --><div class="above" style="top: {{cls.top}}px; left: {{cls.left}}px; width: {{cls.width}}px; height: {{cls.height}}px; overflow-y: auto; padding: 15px" ng-hide="visible"><!-- header --><span><div class="row"><div class="col-sm-12 col-md-12 col-lg-12"><h4>{{site}} - {{siteData.name}}</h4></div></div><!-- control buttons --><div class="row"><hr><div class="col-sm-10 col-md-10 col-lg-10"><button class="btn btn-sm btn-default" ng-click="sizeNodesEvenly()">Size nodes evenly</button> <button class="btn btn-sm btn-default" ng-click="showData = !showData"><span ng-hide="showData">View the Data</span> <span ng-show="showData">Show Controls</span></button></div><div class="col-sm-2 col-md-2 col-lg-2"><button class="btn btn-sm btn-default" ng-click="reset()">Reset</button></div></div></span> <!-- dataset stats --> <span ng-show="!showData" class="contextNodeData"><div class="row"><hr><div class="col-sm-8 col-md-8 col-lg-8">Total number of nodes</div><div class="col-sm-4 col-md-4 col-lg-4">{{data.nodes.length}}</div></div><div class="row"><div class="col-sm-8 col-md-8 col-lg-8">Total number of Associative relationships</div><div class="col-sm-4 col-md-4 col-lg-4">{{data.links.length}}</div></div><div class="row"><div class="col-sm-8 col-md-8 col-lg-8">Dataset % nodes unconnected (not shown)</div><div class="col-sm-4 col-md-4 col-lg-4">{{data.percentUnConnected | number:0}}</div></div><div class="row"><hr><div class="col-sm-12 col-md-12 col-lg-12" style="height: 250px"><date-vis width="{{cls.width}}" height="250"></date-vis></div></div><!-- dataset type statistics --><div class="row"><hr><span ng-repeat="(type, typeData) in data.types"><div class="col-sm-6 col-md-6 col-lg-6">{{type}}</div><div class="col-sm-4 col-md-4 col-lg-4">{{typeData.count}}</div><div class="col-sm-2 col-md-2 col-lg-2 text-center" style="background-color: {{typeData.color}}"><span class="form-inline"><span class="checkbox"><input type="checkbox" ng-click="highlightByType(type)" ng-checked="typeData.checked"></span></span></div></span></div></span> <!-- ############################################## --> <span ng-show="showData" class="contextNodeData"><div class="row" ng-show="contextNodeData"><hr><div class="col-sm-12 col-md-12 col-lg-12"><span ng-show="contextNodeData.url"><strong>{{contextNodeData.type}}:</strong> <a href="{{contextNodeData.url}}" target="_blank">({{contextNodeData.id}}) {{contextNodeData.name}} ({{contextNodeData.df | date:'yyyy'}} - {{contextNodeData.dt | date:'yyyy'}})</a></span> <span ng-show="!contextNodeData.url"><strong>Function:</strong> {{contextNodeData.id}}</span></div></div><div class="row"><hr><div class="col-sm-12 col-md-12 col-lg-12" ng-repeat="(type, data) in contextNetworkData"><span class="form-inline"><span class="checkbox"><input type="checkbox" ng-click="selectAll(type)"></span> <strong>{{type}} ({{data.length}})</strong><br></span> <span ng-repeat="d in data"><span class="form-inline"><span class="checkbox"><input type="checkbox" ng-click="highlight(d.id)" ng-checked="d.checked"></span> <span ng-if="d.url"><a href="{{d.url}}" target="_blank">({{d.id}}) {{d.name}} ({{d.df | date:'yyyy'}} - {{d.dt | date:'yyyy'}})</a><br></span> <span ng-if="!d.url">{{d.name}}<br></span></span></span></div></div></span></div>